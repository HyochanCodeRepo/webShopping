<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout/default}"
      lang="ko">
<head>
    <title>ê´€ë¦¬ì í˜ì´ì§€</title>
    <th:block layout:fragment="css">
        <style>
            .admin-container {
                max-width: 1400px;
                margin: 40px auto;
                padding: 0 20px;
            }
            
            /* í—¤ë” */
            .admin-header {
                background: linear-gradient(135deg, #232f3e 0%, #37475a 100%);
                padding: 40px;
                border-radius: 12px;
                margin-bottom: 40px;
                color: #fff;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            }
            
            .admin-title {
                font-size: 32px;
                font-weight: 700;
                margin-bottom: 10px;
            }
            
            .admin-subtitle {
                font-size: 16px;
                color: #ddd;
            }
            
            /* ê´€ë¦¬ ë©”ë‰´ ê·¸ë¦¬ë“œ */
            .admin-menu-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 25px;
                margin-bottom: 50px;
            }
            
            /* ë©”ë‰´ ì¹´ë“œ */
            .menu-card {
                background: #fff;
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.08);
                transition: all 0.3s;
                cursor: pointer;
                border: 2px solid transparent;
            }
            
            .menu-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 25px rgba(0,0,0,0.15);
                border-color: #ff9900;
            }
            
            .menu-icon {
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #ff9900 0%, #e88b00 100%);
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 20px;
                font-size: 28px;
                color: #fff;
                position: relative;
            }
            
            .menu-card-badge {
                position: absolute;
                top: -8px;
                right: -8px;
                background-color: #ff3b30;
                color: #fff;
                font-size: 12px;
                font-weight: 700;
                min-width: 24px;
                height: 24px;
                padding: 0 6px;
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                line-height: 1;
                box-shadow: 0 2px 8px rgba(255, 59, 48, 0.4);
            }
            
            .menu-card-badge.empty {
                display: none !important;
            }
            
            .menu-title {
                font-size: 20px;
                font-weight: 700;
                color: #232f3e;
                margin-bottom: 10px;
            }
            
            .menu-description {
                font-size: 14px;
                color: #666;
                line-height: 1.6;
            }
            
            /* í†µê³„ ì¹´ë“œ ì„¹ì…˜ */
            .stats-section {
                margin-bottom: 40px;
            }
            
            .section-title {
                font-size: 22px;
                font-weight: 700;
                color: #232f3e;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 2px solid #e8e8e8;
            }
            
            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
            }
            
            .stat-card {
                background: #fff;
                border-radius: 12px;
                padding: 25px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            }
            
            .stat-label {
                font-size: 14px;
                color: #666;
                margin-bottom: 10px;
            }
            
            .stat-value {
                font-size: 32px;
                font-weight: 700;
                color: #232f3e;
            }
            
            .stat-unit {
                font-size: 18px;
                color: #999;
                margin-left: 5px;
            }
            
            .stat-change {
                margin-top: 8px;
                font-size: 14px;
                font-weight: 600;
            }
            
            .stat-change.positive {
                color: #10b981;
            }
            
            .stat-change.negative {
                color: #ef4444;
            }
            
            /* ì°¨íŠ¸ ì„¹ì…˜ */
            .charts-section {
                margin-bottom: 40px;
            }
            
            .charts-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
            
            .chart-card {
                background: #fff;
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            }
            
            .chart-card.chart-full {
                grid-column: 1 / -1;
            }
            
            .chart-title {
                font-size: 18px;
                font-weight: 700;
                color: #232f3e;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 2px solid #f0f0f0;
            }
            
            /* ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼ */
            .quick-actions {
                background: #fff;
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            }
            
            .action-buttons {
                display: flex;
                gap: 15px;
                flex-wrap: wrap;
            }
            
            .action-btn {
                padding: 14px 28px;
                background: #232f3e;
                color: #fff;
                border: none;
                border-radius: 8px;
                font-size: 15px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }
            
            .action-btn:hover {
                background: #131921;
                transform: translateY(-2px);
            }
            
            .action-btn.primary {
                background: #ff9900;
            }
            
            .action-btn.primary:hover {
                background: #e88b00;
            }
            
            /* ë°˜ì‘í˜• */
            @media (max-width: 768px) {
                .admin-header {
                    padding: 30px 20px;
                }
                
                .admin-title {
                    font-size: 24px;
                }
                
                .admin-menu-grid {
                    grid-template-columns: 1fr;
                }
                
                .stats-grid {
                    grid-template-columns: 1fr;
                }
                
                .action-buttons {
                    flex-direction: column;
                }
                
                .action-btn {
                    width: 100%;
                    justify-content: center;
                }
            }
        </style>
    </th:block>
</head>
<body>
    <main layout:fragment="content">
        <div class="admin-container">
            <!-- í—¤ë” -->
            <div class="admin-header">
                <h1 class="admin-title">
                    <i class="fas fa-user-shield"></i> ê´€ë¦¬ì í˜ì´ì§€
                </h1>
                <p class="admin-subtitle">ì‡¼í•‘ëª° ê´€ë¦¬ ë° ìš´ì˜ì„ ìœ„í•œ ê´€ë¦¬ì ì „ìš© í˜ì´ì§€ì…ë‹ˆë‹¤.</p>
            </div>
            
            <!-- ê´€ë¦¬ ë©”ë‰´ -->
            <div class="admin-menu-grid">
                <!-- ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ -->
                <div class="menu-card" onclick="location.href='/category/manage'">
                    <div class="menu-icon">
                        <i class="fas fa-folder-tree"></i>
                    </div>
                    <h3 class="menu-title">ì¹´í…Œê³ ë¦¬ ê´€ë¦¬</h3>
                    <p class="menu-description">
                        ìƒí’ˆ ì¹´í…Œê³ ë¦¬ë¥¼ ë“±ë¡, ìˆ˜ì •, ì‚­ì œí•˜ê³  ê³„ì¸µí˜• êµ¬ì¡°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- ìƒí’ˆ ê´€ë¦¬ -->
                <div class="menu-card" onclick="location.href='/admin/product/register'">
                    <div class="menu-icon">
                        <i class="fas fa-box-open"></i>
                    </div>
                    <h3 class="menu-title">ìƒí’ˆ ë“±ë¡</h3>
                    <p class="menu-description">
                        ìƒˆë¡œìš´ ìƒí’ˆì„ ë“±ë¡í•˜ê³  ì¹´í…Œê³ ë¦¬, ê°€ê²©, ì¬ê³ ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- ìƒí’ˆ ëª©ë¡ ê´€ë¦¬ -->
                <div class="menu-card" onclick="location.href='/admin/product/list'">
                    <div class="menu-icon">
                        <i class="fas fa-list"></i>
                    </div>
                    <h3 class="menu-title">ìƒí’ˆ ëª©ë¡</h3>
                    <p class="menu-description">
                        ë“±ë¡ëœ ëª¨ë“  ìƒí’ˆì„ ì¡°íšŒí•˜ê³  ìˆ˜ì • ë° ì‚­ì œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- ì£¼ë¬¸ ê´€ë¦¬ -->
                <div class="menu-card" onclick="location.href='/admin/orders'">
                    <div class="menu-icon">
                        <i class="fas fa-shopping-bag"></i>
                        <span class="menu-card-badge" id="adminOrderBadge" style="display:none;">0</span>
                    </div>
                    <h3 class="menu-title">ì£¼ë¬¸ ê´€ë¦¬</h3>
                    <p class="menu-description">
                        ê³ ê° ì£¼ë¬¸ ë‚´ì—­ì„ í™•ì¸í•˜ê³  ë°°ì†¡ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- íŒë§¤ì ì‹ ì²­ ê´€ë¦¬ -->
                <div class="menu-card" onclick="location.href='/admin/sellers'">
                    <div class="menu-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <h3 class="menu-title">íŒë§¤ì ì‹ ì²­ ê´€ë¦¬</h3>
                    <p class="menu-description">
                        íŒë§¤ì ì‹ ì²­ì„ ìŠ¹ì¸í•˜ê±°ë‚˜ ê±°ë¶€í•˜ê³  íŒë§¤ì ê¶Œí•œì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- íšŒì› ê´€ë¦¬ -->
                <div class="menu-card" onclick="alert('ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.')">
                    <div class="menu-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="menu-title">íšŒì› ê´€ë¦¬</h3>
                    <p class="menu-description">
                        íšŒì› ì •ë³´ë¥¼ ì¡°íšŒí•˜ê³  ê¶Œí•œì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¤€ë¹„ì¤‘)
                    </p>
                </div>
                
                <!-- í†µê³„ -->
                <div class="menu-card" onclick="alert('ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.')">
                    <div class="menu-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="menu-title">í†µê³„ ë¶„ì„</h3>
                    <p class="menu-description">
                        ë§¤ì¶œ í†µê³„, ì¸ê¸° ìƒí’ˆ, ê³ ê° ë¶„ì„ ë“±ì˜ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¤€ë¹„ì¤‘)
                    </p>
                </div>
                
                <!-- ì„¤ì • -->
                <div class="menu-card" onclick="alert('ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.')">
                    <div class="menu-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                    <h3 class="menu-title">ì‹œìŠ¤í…œ ì„¤ì •</h3>
                    <p class="menu-description">
                        ì‡¼í•‘ëª° ê¸°ë³¸ ì„¤ì •, ë°°ì†¡ë¹„, ê²°ì œ ìˆ˜ë‹¨ ë“±ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¤€ë¹„ì¤‘)
                    </p>
                </div>
            </div>
            
            <!-- ì‹¤ì‹œê°„ í†µê³„ -->
            <div class="stats-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-bar"></i> ì‹¤ì‹œê°„ í†µê³„
                </h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">ì˜¤ëŠ˜ ë§¤ì¶œ</div>
                        <div class="stat-value">
                            <span id="todaySales">-</span>
                            <span class="stat-unit">ì›</span>
                        </div>
                        <div class="stat-change" id="salesChange"></div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">ì˜¤ëŠ˜ ì£¼ë¬¸</div>
                        <div class="stat-value">
                            <span id="todayOrders">-</span>
                            <span class="stat-unit">ê±´</span>
                        </div>
                        <div class="stat-change" id="orderChange"></div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">ì²˜ë¦¬ ëŒ€ê¸°</div>
                        <div class="stat-value">
                            ğŸ”¥ <span id="pendingOrders">-</span>
                            <span class="stat-unit">ê±´</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">ì‹ ê·œ íšŒì›</div>
                        <div class="stat-value">
                            <span id="newMembers">-</span>
                            <span class="stat-unit">ëª…</span>
                        </div>
                        <div class="stat-change" id="memberChange"></div>
                    </div>
                </div>
            </div>
            
            <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
            <div class="charts-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i> í†µê³„ ë¶„ì„
                </h2>
                
                <div class="charts-grid">
                    <!-- ë§¤ì¶œ ì¶”ì´ ì°¨íŠ¸ -->
                    <div class="chart-card chart-full">
                        <h3 class="chart-title">ğŸ“ˆ ìµœê·¼ 7ì¼ ë§¤ì¶œ ì¶”ì´</h3>
                        <canvas id="salesTrendChart"></canvas>
                    </div>
                    
                    <!-- ì£¼ë¬¸ ìƒíƒœ ì°¨íŠ¸ -->
                    <div class="chart-card">
                        <h3 class="chart-title">ğŸ¥§ ì£¼ë¬¸ ìƒíƒœ í˜„í™©</h3>
                        <canvas id="orderStatusChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- ë¹ ë¥¸ ì‘ì—… -->
            <div class="quick-actions">
                <h2 class="section-title">
                    <i class="fas fa-bolt"></i> ë¹ ë¥¸ ì‘ì—…
                </h2>
                <div class="action-buttons">
                    <a href="/admin/product/register" class="action-btn primary">
                        <i class="fas fa-plus-circle"></i> ìƒí’ˆ ë“±ë¡
                    </a>
                    <a href="/admin/product/list" class="action-btn">
                        <i class="fas fa-edit"></i> ìƒí’ˆ ìˆ˜ì •
                    </a>
                    <button class="action-btn" onclick="alert('ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.')">
                        <i class="fas fa-box"></i> ì£¼ë¬¸ í™•ì¸
                    </button>
                    <button class="action-btn" onclick="alert('ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.')">
                        <i class="fas fa-truck"></i> ë°°ì†¡ ê´€ë¦¬
                    </button>
                </div>
            </div>
        </div>
    </main>
    
    <th:block layout:fragment="script">
        <!-- Chart.js CDN -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
        
        <script>
            let salesTrendChart;
            let orderStatusChart;
            
            // í˜ì´ì§€ ë¡œë“œ ì‹œ í†µê³„ ë°ì´í„° ë¡œë“œ
            document.addEventListener('DOMContentLoaded', function() {
                loadDashboardStats();
                loadSalesTrend();
                loadOrderStatus();
                updateAdminOrderBadge(); // ì£¼ë¬¸ ë±ƒì§€ ì—…ë°ì´íŠ¸
                
                // 30ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹ 
                setInterval(function() {
                    loadDashboardStats();
                    updateAdminOrderBadge();
                }, 30000);
            });
            
            // Admin ì£¼ë¬¸ ê´€ë¦¬ ì¹´ë“œ ë±ƒì§€ ì—…ë°ì´íŠ¸
            async function updateAdminOrderBadge() {
                const badge = document.getElementById('adminOrderBadge');
                if (!badge) return;
                
                try {
                    const response = await fetch('/api/new-orders-count');
                    const data = await response.json();
                    const count = data.count;
                    
                    if (count > 0) {
                        badge.textContent = count > 99 ? '99+' : count;
                        badge.style.display = 'flex';
                    } else {
                        badge.style.display = 'none';
                    }
                } catch (error) {
                    console.error('ì£¼ë¬¸ ë±ƒì§€ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
                }
            }
            
            // ì‹¤ì‹œê°„ í†µê³„ ë¡œë“œ
            async function loadDashboardStats() {
                try {
                    const response = await fetch('/admin/api/stats/summary');
                    const data = await response.json();
                    
                    // ì˜¤ëŠ˜ ë§¤ì¶œ
                    document.getElementById('todaySales').textContent = 
                        data.todaySales.toLocaleString();
                    
                    // ë§¤ì¶œ ì¦ê°ë¥ 
                    const salesChangeEl = document.getElementById('salesChange');
                    if (data.salesChangeRate > 0) {
                        salesChangeEl.textContent = `â–² ${data.salesChangeRate.toFixed(1)}%`;
                        salesChangeEl.className = 'stat-change positive';
                    } else if (data.salesChangeRate < 0) {
                        salesChangeEl.textContent = `â–¼ ${Math.abs(data.salesChangeRate).toFixed(1)}%`;
                        salesChangeEl.className = 'stat-change negative';
                    } else {
                        salesChangeEl.textContent = '- 0%';
                        salesChangeEl.className = 'stat-change';
                    }
                    
                    // ì˜¤ëŠ˜ ì£¼ë¬¸
                    document.getElementById('todayOrders').textContent = data.todayOrderCount;
                    
                    // ì£¼ë¬¸ ì¦ê°
                    const orderChangeEl = document.getElementById('orderChange');
                    if (data.orderCountChange > 0) {
                        orderChangeEl.textContent = `â–² ${data.orderCountChange}ê±´`;
                        orderChangeEl.className = 'stat-change positive';
                    } else if (data.orderCountChange < 0) {
                        orderChangeEl.textContent = `â–¼ ${Math.abs(data.orderCountChange)}ê±´`;
                        orderChangeEl.className = 'stat-change negative';
                    } else {
                        orderChangeEl.textContent = '- 0ê±´';
                        orderChangeEl.className = 'stat-change';
                    }
                    
                    // ì²˜ë¦¬ ëŒ€ê¸°
                    document.getElementById('pendingOrders').textContent = data.pendingCount;
                    
                    // ì‹ ê·œ íšŒì›
                    document.getElementById('newMembers').textContent = data.todayNewMembers;
                    
                    // íšŒì› ì¦ê°
                    const memberChangeEl = document.getElementById('memberChange');
                    if (data.memberCountChange > 0) {
                        memberChangeEl.textContent = `â–² ${data.memberCountChange}ëª…`;
                        memberChangeEl.className = 'stat-change positive';
                    } else if (data.memberCountChange < 0) {
                        memberChangeEl.textContent = `â–¼ ${Math.abs(data.memberCountChange)}ëª…`;
                        memberChangeEl.className = 'stat-change negative';
                    } else {
                        memberChangeEl.textContent = '- 0ëª…';
                        memberChangeEl.className = 'stat-change';
                    }
                    
                } catch (error) {
                    console.error('í†µê³„ ë¡œë“œ ì‹¤íŒ¨:', error);
                }
            }
            
            // ë§¤ì¶œ ì¶”ì´ ì°¨íŠ¸
            async function loadSalesTrend() {
                try {
                    const response = await fetch('/admin/api/stats/sales-trend');
                    const data = await response.json();
                    
                    const ctx = document.getElementById('salesTrendChart');
                    
                    salesTrendChart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: data.dates,
                            datasets: [{
                                label: 'ë§¤ì¶œ (ì›)',
                                data: data.sales,
                                borderColor: '#ff9900',
                                backgroundColor: 'rgba(255, 153, 0, 0.1)',
                                tension: 0.4,
                                fill: true,
                                pointRadius: 5,
                                pointHoverRadius: 7,
                                pointBackgroundColor: '#ff9900',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    display: false
                                },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return 'ë§¤ì¶œ: ' + context.parsed.y.toLocaleString() + 'ì›';
                                        }
                                    }
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: function(value) {
                                            return value.toLocaleString() + 'ì›';
                                        }
                                    }
                                }
                            }
                        }
                    });
                    
                } catch (error) {
                    console.error('ë§¤ì¶œ ì¶”ì´ ë¡œë“œ ì‹¤íŒ¨:', error);
                }
            }
            
            // ì£¼ë¬¸ ìƒíƒœ ì°¨íŠ¸
            async function loadOrderStatus() {
                try {
                    const response = await fetch('/admin/api/stats/order-status');
                    const data = await response.json();
                    
                    // ìƒíƒœëª… í•œê¸€ ë³€í™˜
                    const statusLabels = {
                        'PAYMENT_COMPLETED': 'ê²°ì œì™„ë£Œ',
                        'PREPARING': 'ë°°ì†¡ì¤€ë¹„',
                        'SHIPPING': 'ë°°ì†¡ì¤‘',
                        'DELIVERED': 'ë°°ì†¡ì™„ë£Œ',
                        'CANCEL': 'ì·¨ì†Œ'
                    };
                    
                    const labels = Array.from(data.labels).map(status => statusLabels[status] || status);
                    const counts = Array.from(data.counts);
                    
                    const ctx = document.getElementById('orderStatusChart');
                    
                    orderStatusChart = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: labels,
                            datasets: [{
                                data: counts,
                                backgroundColor: [
                                    '#ff9900',  // ê²°ì œì™„ë£Œ
                                    '#3b82f6',  // ë°°ì†¡ì¤€ë¹„
                                    '#10b981',  // ë°°ì†¡ì¤‘
                                    '#8b5cf6',  // ë°°ì†¡ì™„ë£Œ
                                    '#ef4444'   // ì·¨ì†Œ
                                ],
                                borderWidth: 2,
                                borderColor: '#fff'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: {
                                        padding: 15,
                                        font: {
                                            size: 13
                                        }
                                    }
                                },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return context.label + ': ' + context.parsed + 'ê±´';
                                        }
                                    }
                                }
                            }
                        }
                    });
                    
                } catch (error) {
                    console.error('ì£¼ë¬¸ ìƒíƒœ ë¡œë“œ ì‹¤íŒ¨:', error);
                }
            }
        </script>
    </th:block>
</body>
</html>
